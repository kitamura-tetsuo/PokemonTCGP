
import json
import os

# Manual translations for Gen 8, Gen 9, and Trainers/Items
MANUAL_TRANSLATIONS = {
    # Gen 8 (Sword & Shield)
    "Grookey": "サルノリ",
    "Thwackey": "バチンキー",
    "Rillaboom": "ゴリランダー",
    "Scorbunny": "ヒバニー",
    "Raboot": "ラビフット",
    "Cinderace": "エースバーン",
    "Sobble": "メッソン",
    "Drizzile": "ジメレオン",
    "Inteleon": "インテレオン",
    "Skwovet": "ホシガリス",
    "Greedent": "ヨクバリス",
    "Rookidee": "ココガラ",
    "Corvisquire": "アオガラス",
    "Corviknight": "アーマーガア",
    "Blipbug": "サッチムシ",
    "Dottler": "レドームシ",
    "Orbeetle": "イオルブ",
    "Nickit": "クスネ",
    "Thievul": "フォクスライ",
    "Gossifleur": "ヒメンカ",
    "Eldegoss": "ワタシラガ",
    "Wooloo": "ウールー",
    "Dubwool": "バイウールー",
    "Chewtle": "カムカメ",
    "Drednaw": "カジリガメ",
    "Yamper": "ワンパチ",
    "Boltund": "パルスワン",
    "Rolycoly": "タンドン",
    "Carkol": "トロッゴン",
    "Coalossal": "セキタンザン",
    "Applin": "カジッチュ",
    "Flapple": "アップリュー",
    "Appletun": "タルップル",
    "Silicobra": "スナヘビ",
    "Sandaconda": "サダイジャ",
    "Cramorant": "ウッウ",
    "Arrokuda": "サシカマス",
    "Barraskewda": "カマスジョー",
    "Toxel": "エレズン",
    "Toxtricity": "ストリンダー",
    "Sizzlipede": "ヤクデ",
    "Centiskorch": "マルヤクデ",
    "Clobbopus": "タタッコ",
    "Grapploct": "オトスパス",
    "Sinistea": "ヤバチャ",
    "Polteageist": "ポットデス",
    "Hatenna": "ミブリム",
    "Hattrem": "テブリム",
    "Hatterene": "ブリムオン",
    "Impidimp": "ベロバー",
    "Morgrem": "ギモー",
    "Grimmsnarl": "オーロンゲ",
    "Obstagoon": "タチフサグマ",
    "Perrserker": "ニャイキング",
    "Cursola": "サニゴーン",
    "Sirfetch'd": "ネギガナイト",
    "Mr. Rime": "バリコオル",
    "Runerigus": "デスバーン",
    "Milcery": "マホミル",
    "Alcremie": "マホイップ",
    "Falinks": "タイレーツ",
    "Pincurchin": "バチンウニ",
    "Snom": "ユキハミ",
    "Frosmoth": "モスノウ",
    "Stonjourner": "イシヘンジン",
    "Eiscue": "コオリッポ",
    "Indeedee": "イエッサン",
    "Morpeko": "モルペコ",
    "Cufant": "ゾウドウ",
    "Copperajah": "ダイオウドウ",
    "Dracozolt": "パッチラゴン",
    "Arctozolt": "パッチルドン",
    "Dracovish": "ウオノラゴン",
    "Arctovish": "ウオチルドン",
    "Duraludon": "ジュラルドン",
    "Dreepy": "ドラメシヤ",
    "Drakloak": "ドロンチ",
    "Dragapult": "ドラパルト",
    "Zacian": "ザシアン",
    "Zamazenta": "ザマゼンタ",
    "Eternatus": "ムゲンダイナ",
    "Kubfu": "ダクマ",
    "Urshifu": "ウーラオス",
    "Zarude": "ザルード",
    "Regieleki": "レジエレキ",
    "Regidrago": "レジドラゴ",
    "Glastrier": "ブリザポス",
    "Spectrier": "レイスポス",
    "Calyrex": "バドレックス",
    "Wyrdeer": "アヤシシ",
    "Kleavor": "バサギリ",
    "Ursaluna": "ガチグマ",
    "Basculegion": "イダイトウ",
    "Sneasler": "オオニューラ",
    "Overqwil": "ハリーマン",
    "Enamorus": "ラブトロス",
    
    # Gen 9 (Scarlet & Violet)
    "Sprigatito": "ニャオハ",
    "Floragato": "ニャローテ",
    "Meowscarada": "マスカーニャ",
    "Fuecoco": "ホゲータ",
    "Crocalor": "アチゲータ",
    "Skeledirge": "ラウドボーン",
    "Quaxly": "クワッス",
    "Quaxwell": "ウェルカモ",
    "Quaquaval": "ウェーニバル",
    "Lechonk": "グルトン",
    "Oinkologne": "パフュートン",
    "Tarountula": "タマンチュラ",
    "Spidops": "ワナイダー",
    "Nymble": "マメバッタ",
    "Lokix": "エクスレッグ",
    "Pawmi": "パモ",
    "Pawmo": "パモット",
    "Pawmot": "パーモット",
    "Tandemaus": "ワッカネズミ",
    "Maushold": "イッカネズミ",
    "Fidough": "パピモッチ",
    "Dachsbun": "バウッツェル",
    "Smoliv": "ミニーブ",
    "Dolliv": "オリーニョ",
    "Arboliva": "オリーヴァ",
    "Squawkabilly": "イキリンコ",
    "Nacli": "コジオ",
    "Naclstack": "ジオヅム",
    "Garganacl": "キョジオーン",
    "Charcadet": "カルボウ",
    "Armarouge": "グレンアルマ",
    "Ceruledge": "ソウブレイズ",
    "Tadbulb": "ズピカ",
    "Bellibolt": "ハラバリー",
    "Wattrel": "カイデン",
    "Kilowattrel": "タイカイデン",
    "Maschiff": "オラチフ",
    "Mabosstiff": "マフィティフ",
    "Shroodle": "シルシュルー",
    "Grafaiai": "タギングル",
    "Bramblin": "アノクサ",
    "Brambleghast": "アノホラグサ",
    "Toedscool": "ノノクラゲ",
    "Toedscruel": "リククラゲ",
    "Klawf": "ガケガニ",
    "Capsakid": "カプサイジ",
    "Scovillain": "スコヴィラン",
    "Rellor": "シガロコ",
    "Rabsca": "ベラカス",
    "Flittle": "ヒラヒナ",
    "Espathra": "クエスパトラ",
    "Tinkatink": "カヌチャン",
    "Tinkatuff": "ナカヌチャン",
    "Tinkaton": "デカヌチャン",
    "Wiglett": "ウミディグダ",
    "Wugtrio": "ウミトリオ",
    "Bombirdier": "オトシドリ",
    "Finizen": "ナミイルカ",
    "Palafin": "イルカマン",
    "Varoom": "ブロロン",
    "Revavroom": "ブロロローム",
    "Cyclizar": "モトトカゲ",
    "Orthworm": "ミミズズ",
    "Glimmet": "キラーメ",
    "Glimmora": "キラフロル",
    "Greavard": "ボチ",
    "Houndstone": "ハカドッグ",
    "Flamigo": "カラミンゴ",
    "Cetoddle": "アルクジラ",
    "Cetitan": "ハルクジラ",
    "Frigibax": "セビエ",
    "Arctibax": "セゴール",
    "Baxcalibur": "セグレイブ",
    "Tatsugiri": "シャリタツ",
    "Dondozo": "ヘイラッシャ",
    "Veluza": "ミガルーサ",
    "Annihilape": "コノヨザル",
    "Clodsire": "ドオー",
    "Farigiraf": "リキキリン",
    "Dudunsparce": "ノココッチ",
    "Kingambit": "ドドゲザン",
    "Great Tusk": "イダイナキバ",
    "Scream Tail": "サケブシッポ",
    "Brute Bonnet": "アラブルタケ",
    "Flutter Mane": "ハバタクカミ",
    "Slither Wing": "チヲハウハネ",
    "Sandy Shocks": "スナノケガワ",
    "Iron Treads": "テツノワダチ",
    "Iron Bundle": "テツノツツミ",
    "Iron Hands": "テツノカイナ",
    "Iron Jugulis": "テツノコウベ",
    "Iron Moth": "テツノドクガ",
    "Iron Thorns": "テツノイバラ",
    "Iron Valiant": "テツノブジン",
    "Roaring Moon": "トドロクツキ",
    "Walking Wake": "ウネルミナモ",
    "Iron Leaves": "テツノイサハ",
    "Wo-Chien": "チオンジェン",
    "Chien-Pao": "パオジアン",
    "Ting-Lu": "ディンルー",
    "Chi-Yu": "イーユイ",
    "Koraidon": "コライドン",
    "Miraidon": "ミライドン",
    "Gimmighoul": "コレクレー",
    "Gholdengo": "サーフゴー",
    "Iron Crown": "テツノカシラ",
    "Iron Boulder": "テツノイワオ",
    "Hydrapple": "カミツオロチ",
    "Archaludon": "ブリジュラス",
    "Poltchageist": "チャデス",
    "Sinistcha": "ヤバソチャ",
    "Okidogi": "イイネイヌ",
    "Munkidori": "マシマシラ",
    "Fezandipiti": "キチキギス",
    "Ogerpon": "オーガポン",
    "Pecharunt": "モモワロウ",
    "Terapagos": "テラパゴス",

    # Trainers & Items
    "Professor's Research": "博士の研究",
    "Misty": "カスミ",
    "Brock": "タケシ",
    "Giovanni": "サカキ",
    "Sabrina": "ナツメ",
    "Koga": "キョウ",
    "Blaine": "カツラ",
    "Erika": "エリカ",
    "Lt. Surge": "マチス",
    "Janine": "アンズ",
    "Blue": "グリーン",
    "Red": "レッド",
    "Green": "ブルー",
    "Leaf": "リーフ",
    "Agatha": "キクコ",
    "Lorelei": "カンナ",
    "Bruno": "シバ",
    "Lance": "ワタル",
    "Bill": "マサキ",
    "Daisy": "ナナミ",
    "Potion": "キズぐすり",
    "Super Potion": "いいキズぐすり",
    "Hyper Potion": "すごいキズぐすり",
    "First Aid": "きずぐすり",
    "Poke Ball": "モンスターボール",
    "Great Ball": "スーパーボール",
    "Ultra Ball": "ハイパーボール",
    "Master Ball": "マスターボール",
    "X Speed": "スピーダー",
    "X Attack": "プラスパワー",
    "X Defense": "ディフェンダー",
    "Fresh Water": "おいしいみず",
    "Soda Pop": "サイコソーダ",
    "Lemonade": "ミックスオレ",
    "Red Card": "レッドカード",
    "Hand Scope": "ハンドスコープ",
    "Pokedex": "ポケモン図鑑",
    "Helix Fossil": "かいの化石",
    "Dome Fossil": "こうらの化石",
    "Old Amber": "ひみつのコハク",
    "Antidote": "どくけし",
    "Full Heal": "なんでもなおし",
    "Paralyze Heal": "まひなおし",
    "Awakening": "ねむけざまし",
    "Burn Heal": "やけどなおし",
    "Ice Heal": "こおりなおし",
    "Escape Rope": "あなぬけのヒモ",
    "Repel": "むしよけスプレー",
    "Rare Candy": "ふしぎなアメ",
    "Exp. Share": "がくしゅうそうち",
    "Giovanni's Charisma": "サカキのカリスマ",
    "Erika's Invitation": "エリカの招待",
    "Sabrina's Gengar": "ナツメのゲンガー",
    "Koga's Trap": "キョウの罠",
    "Misty's Determination": "カスミのやる気",
    "Brock's Grit": "タケシのガッツ",
    "Lt. Surge's Strategy": "マチスの作戦", 
    "Blaine's Quiz Show": "カツラのクイズショー",
    "Team Rocket Grunt": "ロケット団のしたっぱ",
    "Sada": "オーリム",
    "Turo": "フトゥー",
    "Arven": "ペパー",
    "Nemona": "ネモ",
    "Penny": "ボタン",
    "Iono": "ナンジャモ",
    "Grusha": "グルーシャ",
    "Rika": "チリ",
    "Poppy": "ポピー",
    "Larry": "アオキ",
    "Hassel": "ハッサク",
    "Geeta": "オモダカ",
    "Clavell": "クラベル",
    "Jacq": "ジニア",
    "Raifort": "レホール",
    "Tyme": "タイム",
    "Salvatore": "セイジ",
    "Dendra": "キハダ",
    "Saguaro": "サワロ",
    "Miriam": "ミモザ",
    "Katy": "カエデ",
    "Brassius": "コルサ",
    "Kofu": "ハイダイ",
    "Tulip": "リップ",
    
    # Common Suffixes handled by logic, but some specifics:
    "Mewtwo ex": "ミュウツーex",
    "Charizard ex": "リザードンex",
    "Venusaur ex": "フシギバナex",
    "Blastoise ex": "カメックスex",
    "Pikachu ex": "ピカチュウex",
    # Specifics that might fail algorithmic matching
}

def load_json(path):
    with open(path, 'r', encoding='utf-8') as f:
        return json.load(f)

def save_json(path, data):
    with open(path, 'w', encoding='utf-8') as f:
        json.dump(data, f, ensure_ascii=False, indent=2)

def main():
    pokedex = load_json('/workspaces/PokemonTCGP/data/pokedex.json')
    
    # Helper to resolve prefixes
    def resolve_ja_name(en_name, base_ja_name):
        if en_name.startswith("Alolan "):
            return f"アローラの{base_ja_name}"
        if en_name.startswith("Galarian "):
            return f"ガラルの{base_ja_name}"
        if en_name.startswith("Hisuian "):
            return f"ヒスイの{base_ja_name}"
        if en_name.startswith("Paldean "):
            return f"パルデアの{base_ja_name}"
        # For "Mega X", typically "メガX"
        if en_name.startswith("Mega "):
             return f"メガ{base_ja_name}"
        return base_ja_name

    final_map = {}
    
    # 1. Populate from Pokedex (Gen 1-7)
    for entry in pokedex:
        en_name = entry['name']['english']
        ja_name = entry['name']['japanese']
        final_map[en_name] = ja_name
        
    # 2. Add Manual Translations (Gen 8-9 + Trainers)
    final_map.update(MANUAL_TRANSLATIONS)
    
    # 3. Save
    save_json('/workspaces/PokemonTCGP/data/card_translations.json', final_map)
    print("Created data/card_translations.json")

if __name__ == "__main__":
    main()
